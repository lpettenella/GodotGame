[gd_scene load_steps=59 format=3 uid="uid://cs08mbykpxblk"]

[ext_resource type="Script" path="res://script/enemies/Enemy.gd" id="1_ujmcl"]
[ext_resource type="PackedScene" uid="uid://bf4ubatiredib" path="res://scenes/particles/HitParticles.tscn" id="2_i2a03"]
[ext_resource type="Texture2D" uid="uid://bc3fe56vvn40y" path="res://sprite-sheet/enemy2.png" id="2_l22pg"]
[ext_resource type="PackedScene" uid="uid://cdga3r26ndxlq" path="res://scenes/gui/Meat.tscn" id="3_ulmnw"]

[sub_resource type="AtlasTexture" id="AtlasTexture_8nypt"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_25bvs"]
atlas = ExtResource("2_l22pg")
region = Rect2(320, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_b2s6x"]
atlas = ExtResource("2_l22pg")
region = Rect2(480, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_t7k2y"]
atlas = ExtResource("2_l22pg")
region = Rect2(640, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_sy6yf"]
atlas = ExtResource("2_l22pg")
region = Rect2(800, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_ldtwc"]
atlas = ExtResource("2_l22pg")
region = Rect2(1120, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_3ty35"]
atlas = ExtResource("2_l22pg")
region = Rect2(1280, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_rxtfl"]
atlas = ExtResource("2_l22pg")
region = Rect2(1440, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_7cffi"]
atlas = ExtResource("2_l22pg")
region = Rect2(1600, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_6h74v"]
atlas = ExtResource("2_l22pg")
region = Rect2(1760, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_synx8"]
atlas = ExtResource("2_l22pg")
region = Rect2(1920, 288, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_5fapl"]
atlas = ExtResource("2_l22pg")
region = Rect2(0, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ykob"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_6vfsx"]
atlas = ExtResource("2_l22pg")
region = Rect2(320, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_puatd"]
atlas = ExtResource("2_l22pg")
region = Rect2(480, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_j80os"]
atlas = ExtResource("2_l22pg")
region = Rect2(640, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_6b1nf"]
atlas = ExtResource("2_l22pg")
region = Rect2(800, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_giest"]
atlas = ExtResource("2_l22pg")
region = Rect2(960, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0ile"]
atlas = ExtResource("2_l22pg")
region = Rect2(1120, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_mfiii"]
atlas = ExtResource("2_l22pg")
region = Rect2(1280, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_gnkxo"]
atlas = ExtResource("2_l22pg")
region = Rect2(1440, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_er8dl"]
atlas = ExtResource("2_l22pg")
region = Rect2(1600, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_qr7n0"]
atlas = ExtResource("2_l22pg")
region = Rect2(1760, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_e0bp6"]
atlas = ExtResource("2_l22pg")
region = Rect2(1920, 96, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_5f7hs"]
atlas = ExtResource("2_l22pg")
region = Rect2(0, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_rii0g"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_8l402"]
atlas = ExtResource("2_l22pg")
region = Rect2(320, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_mpu3w"]
atlas = ExtResource("2_l22pg")
region = Rect2(480, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_2y3dy"]
atlas = ExtResource("2_l22pg")
region = Rect2(640, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_bp1pv"]
atlas = ExtResource("2_l22pg")
region = Rect2(800, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_w5xtn"]
atlas = ExtResource("2_l22pg")
region = Rect2(960, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_t1r4e"]
atlas = ExtResource("2_l22pg")
region = Rect2(1120, 480, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_e4n5d"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_tbctk"]
atlas = ExtResource("2_l22pg")
region = Rect2(320, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_sy3ql"]
atlas = ExtResource("2_l22pg")
region = Rect2(480, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_f2m46"]
atlas = ExtResource("2_l22pg")
region = Rect2(640, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_f66t8"]
atlas = ExtResource("2_l22pg")
region = Rect2(800, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_m4wc6"]
atlas = ExtResource("2_l22pg")
region = Rect2(960, 384, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_bjpjq"]
atlas = ExtResource("2_l22pg")
region = Rect2(0, 0, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_tftqp"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 0, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_w22ae"]
atlas = ExtResource("2_l22pg")
region = Rect2(0, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_kibvd"]
atlas = ExtResource("2_l22pg")
region = Rect2(160, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_8esm7"]
atlas = ExtResource("2_l22pg")
region = Rect2(320, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_c8cdk"]
atlas = ExtResource("2_l22pg")
region = Rect2(480, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_npbax"]
atlas = ExtResource("2_l22pg")
region = Rect2(640, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_huu22"]
atlas = ExtResource("2_l22pg")
region = Rect2(800, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_03wim"]
atlas = ExtResource("2_l22pg")
region = Rect2(960, 192, 160, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_vgv5o"]
atlas = ExtResource("2_l22pg")
region = Rect2(1120, 192, 160, 96)

[sub_resource type="SpriteFrames" id="SpriteFrames_hrf5q"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8nypt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_25bvs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b2s6x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t7k2y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sy6yf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ldtwc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ty35")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rxtfl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7cffi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6h74v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_synx8")
}],
"loop": false,
"name": &"attack",
"speed": 16.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5fapl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ykob")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6vfsx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_puatd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j80os")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6b1nf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_giest")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0ile")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mfiii")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gnkxo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_er8dl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qr7n0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e0bp6")
}],
"loop": false,
"name": &"born",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5f7hs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rii0g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8l402")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mpu3w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2y3dy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bp1pv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w5xtn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t1r4e")
}],
"loop": false,
"name": &"death",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_e4n5d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tbctk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sy3ql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f2m46")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f66t8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4wc6")
}],
"loop": false,
"name": &"hit",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bjpjq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tftqp")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_w22ae")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kibvd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8esm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8cdk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_npbax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_huu22")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_03wim")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vgv5o")
}],
"loop": true,
"name": &"run",
"speed": 8.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u7gaa"]
size = Vector2(8, 22)

[sub_resource type="CircleShape2D" id="CircleShape2D_hvjo7"]
radius = 103.044

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f6na7"]
size = Vector2(12, 22)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_es1xn"]
size = Vector2(19, 22)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fmke6"]
size = Vector2(4, 22)

[node name="Enemy2" type="CharacterBody2D"]
collision_layer = 4
script = ExtResource("1_ujmcl")
hitParticle = ExtResource("2_i2a03")
meat = ExtResource("3_ulmnw")
frame_attack_hit = 6
can_born = true
state = "born"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(-1, 1)
sprite_frames = SubResource("SpriteFrames_hrf5q")
animation = &"born"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(9.53674e-07, 5)
shape = SubResource("RectangleShape2D_u7gaa")

[node name="ChaseArea" type="Area2D" parent="."]
visible = false
collision_layer = 4
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="ChaseArea"]
modulate = Color(0.882353, 0.290196, 0.388235, 1)
self_modulate = Color(0, 0, 0, 1)
position = Vector2(0, 5)
shape = SubResource("CircleShape2D_hvjo7")

[node name="SearchArea" type="Area2D" parent="."]
visible = false
collision_layer = 4
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="SearchArea"]
modulate = Color(0.886275, 0.517647, 0, 1)
position = Vector2(10, 5)
shape = SubResource("RectangleShape2D_f6na7")

[node name="AttackArea" type="Area2D" parent="."]
visible = false
position = Vector2(0.262421, 0)
collision_layer = 4
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttackArea"]
position = Vector2(9.23758, 5)
shape = SubResource("RectangleShape2D_es1xn")

[node name="PositionToPlayer" type="Area2D" parent="."]
visible = false
collision_layer = 4
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PositionToPlayer"]
modulate = Color(0.882353, 0.290196, 0.388235, 1)
self_modulate = Color(0, 0, 0, 1)
position = Vector2(6, 5)
shape = SubResource("RectangleShape2D_fmke6")

[node name="KnockbackTime" type="Timer" parent="."]
wait_time = 0.1
one_shot = true

[node name="StunTime" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="AttackDelay" type="Timer" parent="."]
one_shot = true

[node name="RayCast2D" type="RayCast2D" parent="."]
position = Vector2(9, 16)
target_position = Vector2(0, 6)

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_AnimatedSprite_animation_finished"]
[connection signal="body_entered" from="ChaseArea" to="." method="_on_ChaseArea_body_entered"]
[connection signal="body_exited" from="ChaseArea" to="." method="_on_ChaseArea_body_exited"]
[connection signal="body_entered" from="SearchArea" to="." method="_on_SearchArea_body_entered"]
[connection signal="body_exited" from="SearchArea" to="." method="_on_SearchArea_body_exited"]
[connection signal="body_entered" from="AttackArea" to="." method="_on_AttackArea_body_entered"]
[connection signal="body_exited" from="AttackArea" to="." method="_on_AttackArea_body_exited"]
[connection signal="body_entered" from="PositionToPlayer" to="." method="_on_PositionToPlayer_body_entered"]
[connection signal="body_exited" from="PositionToPlayer" to="." method="_on_PositionToPlayer_body_exited"]
[connection signal="timeout" from="StunTime" to="." method="_on_stun_time_timeout"]
